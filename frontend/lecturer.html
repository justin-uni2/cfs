<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vorlesungs√ºbersicht</title>
    <link rel="stylesheet" href="css/lecturer.css">
</head>
<body>

    <div id="toast-message" class="toast">Erfolgreich gespeichert!</div>

    <div id="page-list">
        <h1>Verf√ºgbare Vorlesungen:</h1>
        <div id="lecture-container">
            <div class="lecture-item">
                <span class="lecture-link" onclick="showDetails('Mensch-Computer-Interaktion')">
                    <p>Mensch-Computer-Interaktion<br> Mi: 10:00-11:30</p>
                </span>
            </div>
            <div class="lecture-item">
                <span class="lecture-link" onclick="showDetails('Programmieren 1')">
                    <p>Programmieren 1<br> Do: 10:00-11:30</p>
                </span>
            </div>
        </div>
        <button onclick="openPopup()" class="btn-one" id="addVorlesung">+ Vorlesung hinzuf√ºgen</button>

        <div id="popup" class="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">√ó</span>
                <div class="form">
                    <div class="row"><label>Name:</label><input type="text" id="name"></div>
                    <div class="row"><label>Uhrzeit:</label><input type="text" id="uhrzeit"></div>
                    <button onclick="saveLectureWithFeedback()" class="btn-three">Speichern</button>
                </div>
            </div>
        </div>
    </div>

    <div id="page-details" style="display: none;">
        <button onclick="showList()" class="btn-two">‚Üê Zur√ºck</button>
        <h1 id="detail-title">Vorlesung</h1>
        <div class="session-container">
            <div class="session-column">
                <h2>Geplante Sessions</h2>
                <ul id="upcoming-sessions"></ul>
                <button onclick="addNewSession()" class="btn-two" style="margin-top: 10px;">+ Session planen</button>
            </div>
            <div class="session-column">
                <h2>Vergangene Sessions</h2>
                <ul id="past-sessions"></ul>
            </div>
        </div>
    </div>

    <div id="page-dashboard" style="display: none;">
        <button onclick="backToSessions()" class="btn-two">‚Üê Zur√ºck zu Sessions</button>
        <h1 id="dashboard-title">Session Name</h1>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <p>Teilnehmer: <span id="participants">49</span></p>
                <p>Dauer: <span id="duration">00:02:15</span></p>
            </div>
            <div class="dashboard-card">
                <h3>Aktuelles Rating:</h3>
                <div style="font-size: 24px; color: gold;">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
            
            <div class="dashboard-card" id="quiz-card">
                <h3>Live-Quiz</h3>
                <div id="quiz-initial">
                    <p>Aktive Frage: "Was ist MCI?"</p>
                    <button onclick="startQuizTimer()" class="btn-two">Quiz jetzt starten</button>
                </div>
                <div id="quiz-running" style="display: none;">
                    <p>Quiz l√§uft...</p>
                    <div style="font-size: 24px; font-weight: bold; color: #e21b3c;" id="quiz-timer">30</div>
                    <p>Sekunden verbleibend</p>
                </div>
                <div id="quiz-results" style="display: none;">
                    <div style="display: flex; align-items: flex-end; justify-content: center; gap: 10px; height: 60px; margin-top: 10px;">
                        <div style="width: 15px; background: #67b4c8; height: 85%;"></div>
                        <div style="width: 15px; background: #a5a5a7; height: 20%;"></div>
                        <div style="width: 15px; background: #a5a5a7; height: 40%;"></div>
                        <div style="width: 15px; background: #a5a5a7; height: 10%;"></div>
                    </div>
                    <p style="font-size: 12px; margin-top: 5px;">Ergebnisse empfangen</p>
                    <button onclick="resetQuiz()" class="btn-four">Reset</button>
                </div>
            </div>

            <div class="dashboard-card">
                <h3>Live-Feedback:</h3>
                <div id="feedback-ticker" class="ticker-box">
                    <ul>
                        <li>üëç (12:04)</li>
                        <li>"bitte langsamer!" (12:05)</li>
                    </ul>
                </div>
            </div>
        </div>

        <button onclick="endSession()" class="btn-one" style="margin-top: 20px; background-color: #e21b3c;">
            Beende Session
        </button>
    </div>

    <div id="page-end" style="display: none; text-align: center;">
        <div class="dashboard-card" style="margin: 50px auto; max-width: 500px;">
            <h2 style="color: #26890c;">Session beendet!</h2>
            <div style="margin: 30px 0;">
                <h3>Finales Rating:</h3>
                <div style="font-size: 32px; color: gold;">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
                <p>3.9 / 5.0</p>
            </div>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button onclick="showProtocol('Aktuelle Session')" class="btn-two" style="width: 150px;">Protokoll</button>
                <button onclick="showList()" class="btn-two" style="width: 150px;">Startseite</button>
            </div>
        </div>
    </div>

    <div id="page-protocol" style="display: none; padding: 20px; max-width: 800px; margin: auto;">
        <button onclick="backToSessionsFromProtocol()" class="btn-two" style="margin-bottom: 20px;">‚Üê Zur√ºck zu Sessions</button>
        <h1 id="protocol-title">Protokoll</h1>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Rating-Verlauf</h3>
                <div style="height: 100px; border-left: 2px solid #333; border-bottom: 2px solid #333; position: relative; margin: 20px auto; width: 80%;">
                    <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
                        <polyline fill="none" stroke="#67b4c8" stroke-width="3" points="0,80 20,70 40,75 60,60 80,65 100,50" />
                    </svg>
                </div>
                <p>Finales Rating: 3.9 ‚òÖ</p>
            </div>
            <div class="dashboard-card">
                <h3>Live-Feedback</h3>
                <div class="ticker-box">
                    <ul><li>10:20: "Bitte langsamer"</li></ul>
                </div>
            </div>
        </div>
    </div>

    <script src="js/lecturer.js"></script>
</body>
</html>